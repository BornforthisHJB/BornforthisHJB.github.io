import{_ as e}from"./gzh.b03adfd2.js";import{_ as o}from"./zsxq.77f6dc86.js";import{_ as i}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as c,c as l,a as n,d as s,b as t,e as p,r as u}from"./app.c7301235.js";const r={},k=n("p",null,"有兴趣的可以自行部署在服务器上，做成每日自动提交，或者 webhook 触发等。",-1),d={href:"https://ziyuan.baidu.com/linksubmit/index",target:"_blank",rel:"noopener noreferrer"},v=p(`<p>通过此页面可以向百度搜索主动推送资源，同时百度也提供了 API 提交接口，这样可以缩短爬虫发现网站链接的时间，但百度不保证收录和展现效果。</p><p>以本站为例，百度提供了 API 提交的样例参数。</p><h2 id="推送脚本" tabindex="-1"><a class="header-anchor" href="#推送脚本" aria-hidden="true">#</a> 推送脚本</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">import</span> re


<span class="token comment"># 根据站点地图获取链接</span>
<span class="token keyword">def</span> <span class="token function">get_urls</span><span class="token punctuation">(</span>sitemap<span class="token punctuation">)</span><span class="token punctuation">:</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>sitemap<span class="token punctuation">)</span>
    urls <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">&#39;&lt;loc&gt;(.*?)&lt;/loc&gt;&#39;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
    <span class="token keyword">return</span> urls


<span class="token comment"># 推送百度 (参数：网站网址，token，网站站点地图)</span>
<span class="token keyword">def</span> <span class="token function">submit_baidu</span><span class="token punctuation">(</span>site<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> token<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> sitemap<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    msg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    url_list <span class="token operator">=</span> get_urls<span class="token punctuation">(</span>sitemap<span class="token punctuation">)</span>
    <span class="token comment"># print(url_list)</span>
    url_content <span class="token operator">=</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>url_list<span class="token punctuation">)</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f&quot;http://data.zz.baidu.com/urls?site=</span><span class="token interpolation"><span class="token punctuation">{</span>site<span class="token punctuation">}</span></span><span class="token string">&amp;token=</span><span class="token interpolation"><span class="token punctuation">{</span>token<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span>
                             headers<span class="token operator">=</span><span class="token punctuation">{</span>
                                 <span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;curl/7.12.1&quot;</span><span class="token punctuation">,</span>
                                 <span class="token string">&quot;Host&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;data.zz.baidu.com&quot;</span><span class="token punctuation">,</span>
                                 <span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span>
                                 <span class="token string">&quot;Content-Length&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;83&quot;</span>
                             <span class="token punctuation">}</span><span class="token punctuation">,</span>
                             data<span class="token operator">=</span>url_content
                             <span class="token punctuation">)</span>
    <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
        msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;成功推送的 url 条数 </span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当天剩余的可推送url条数 </span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;remain&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;今日推送的 url 列表:&#39;</span></span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> url <span class="token keyword">in</span> url_list<span class="token punctuation">:</span>
            msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;not_same_site&#39;</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&#39;由于不是本站url而未处理的url列表:&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> url <span class="token keyword">in</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;not_same_site&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;not_valid&#39;</span><span class="token punctuation">)</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&#39;不合法的url列表:&#39;</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> url <span class="token keyword">in</span> data<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;not_valid&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

    <span class="token keyword">else</span><span class="token punctuation">:</span>
        msg<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;推送失败\\n</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> msg


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        info <span class="token operator">=</span> submit_baidu<span class="token punctuation">(</span>site<span class="token operator">=</span><span class="token string">&#39;https://bornforthis.cn&#39;</span><span class="token punctuation">,</span> token<span class="token operator">=</span><span class="token string">&#39;rJcdDY5O4W9rd9eG&#39;</span><span class="token punctuation">,</span>
                            sitemap<span class="token operator">=</span><span class="token string">&#39;https://www.bornforthis.cn/sitemap.xml&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;\\n&#39;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="进阶版本代码" tabindex="-1"><a class="header-anchor" href="#进阶版本代码" aria-hidden="true">#</a> 进阶版本代码</h2><p>使用前需要注意替换真实参数：</p><ul><li>site</li><li>token</li><li>sitemap_path</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># -*- coding: UTF-8 -*-</span>

<span class="token keyword">import</span> requests
<span class="token keyword">import</span> json
<span class="token keyword">import</span> re


<span class="token keyword">class</span> <span class="token class-name">Pusher</span><span class="token punctuation">:</span>
    <span class="token comment"># 初始化参数</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> site<span class="token punctuation">,</span> token<span class="token punctuation">,</span> sitemap_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>site <span class="token operator">=</span> site
        self<span class="token punctuation">.</span>token <span class="token operator">=</span> token
        self<span class="token punctuation">.</span>sitemap_path <span class="token operator">=</span> sitemap_path

    <span class="token comment"># 批量提交 url</span>
    <span class="token keyword">def</span> <span class="token function">post</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> urls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        post_url <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;http://data.zz.baidu.com/urls?site=</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>site<span class="token punctuation">}</span></span><span class="token string">&amp;token=</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>token<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        headers <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">&#39;User-Agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;curl/7.12.1&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;Host&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;data.zz.baidu.com&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;text/plain&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;Content-Length&#39;</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>post_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>urls<span class="token punctuation">)</span>

        <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">:</span>
            msg_s <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;推送失败（异常状态码）：</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">}</span></span><span class="token string">\\n</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>msg_s<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        response <span class="token operator">=</span> response<span class="token punctuation">.</span>text
        response <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">)</span>

        <span class="token keyword">if</span> <span class="token string">&quot;error&quot;</span> <span class="token keyword">in</span> response<span class="token punctuation">:</span>
            msg_s <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;推送失败（error）:\\n</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>msg_s<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>

        <span class="token keyword">if</span> <span class="token string">&quot;success&quot;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> response<span class="token punctuation">:</span>
            msg_s <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;推送异常（百度已更改返回体格式）:\\n</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>msg_s<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;已成功推送 </span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">[</span><span class="token string">&#39;success&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> 条 url&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当天剩余的可推送 url 条数 ---&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">[</span><span class="token string">&#39;remain&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;由于不是本站url而未处理的 url 列表:</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">[</span><span class="token string">&#39;not_same_site&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;不合法的 url 列表:</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">[</span><span class="token string">&#39;not_valid&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>

    <span class="token comment"># 获取站点 sitemap.xml 文件内容, 解析 url</span>
    <span class="token keyword">def</span> <span class="token function">get_url_from_sitemap</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        url <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>site<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>sitemap_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        headers <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">&#39;User-Agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>

        <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;获取站点 xml 文件失败（异常状态码）：</span><span class="token interpolation"><span class="token punctuation">{</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        sitemap_xml <span class="token operator">=</span> response<span class="token punctuation">.</span>text

        urls <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r&#39;&lt;loc&gt;(.*?)&lt;/loc&gt;&#39;</span><span class="token punctuation">,</span> sitemap_xml<span class="token punctuation">,</span> re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>

        <span class="token keyword">if</span> urls <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> urls <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">or</span> urls <span class="token operator">==</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;解析 url 失败（该站点不存在 sitemap.xml 或内容为空）&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;获取站点 xml 文件成功, 共有：</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 条 url&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> urls

    <span class="token comment"># 入口</span>
    <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        urls <span class="token operator">=</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>self<span class="token punctuation">.</span>get_url_from_sitemap<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>post<span class="token punctuation">(</span>urls<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    <span class="token comment"># 站点</span>
    site <span class="token operator">=</span> <span class="token string">&quot;https://bornforthis.cn&quot;</span>
    <span class="token comment"># 百度提交页面提供的 token</span>
    token <span class="token operator">=</span> <span class="token string">&quot;rJcdDY5O4W9rd9eG&quot;</span>
    <span class="token comment"># 站点 sitemap uri</span>
    <span class="token comment"># sitemap_path = &quot;/zh-cn/sitemap.xml&quot;</span>
    sitemap_path <span class="token operator">=</span> <span class="token string">&quot;/sitemap.xml&quot;</span>

    pusher <span class="token operator">=</span> Pusher<span class="token punctuation">(</span>site<span class="token punctuation">,</span> token<span class="token punctuation">,</span> sitemap_path<span class="token punctuation">)</span>
    pusher<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考文件" tabindex="-1"><a class="header-anchor" href="#参考文件" aria-hidden="true">#</a> 参考文件</h2>`,9),m={href:"https://ziyuan.baidu.com/college/courseinfo?id=267&page=3s",target:"_blank",rel:"noopener noreferrer"},b=n("li",null,null,-1),g=p(`<p>欢迎关注我公众号：AI悦创，有更多更好玩的等你发现！</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">import</span> re
<span class="token keyword">import</span> time
headers <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;User-Agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36,&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Host&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;data.zz.baidu.com&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Content-Length&#39;</span><span class="token punctuation">:</span><span class="token string">&#39;83&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;links.txt示例:\\nhttps://xxxxx.html\\nhttps://xxxxx.html\\nhttps://xxxxx.html\\nhttps://xxxxx.html&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;api示例:\\nhttp://data.zz.baidu.com/urls?site=xxxxxxxxxxx&#39;</span><span class="token punctuation">)</span>
push_num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> push_num <span class="token operator">&lt;</span> <span class="token number">9999</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> push_num <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        answer <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请问你是否已经将链接填入links.txt，api填入api.txt中呢，如果是则回答1\\n&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> answer <span class="token operator">==</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&#39;links.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> links<span class="token punctuation">:</span>
                links <span class="token operator">=</span> links<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;links.txt文件不存在&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&#39;api.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> api<span class="token punctuation">:</span>
                api <span class="token operator">=</span> api<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;links.txt文件不存在&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">def</span> <span class="token function">thinklink</span><span class="token punctuation">(</span>links<span class="token punctuation">,</span> api<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> links <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;links.txt文件为空&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> api <span class="token operator">==</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;api.txt为空&#39;</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">try</span><span class="token punctuation">:</span>
                        html_result <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>api<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> data<span class="token operator">=</span>links<span class="token punctuation">)</span><span class="token punctuation">.</span>text
                        <span class="token keyword">return</span> html_result
                    <span class="token keyword">except</span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;失败&quot;</span><span class="token punctuation">)</span>
        push_result <span class="token operator">=</span> thinklink<span class="token punctuation">(</span>links<span class="token punctuation">,</span> api<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;提交完成:&#39;</span><span class="token operator">+</span>push_result<span class="token punctuation">)</span>
        surplus_push_num <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">&#39;&quot;remain&quot;:(.*),&quot;&#39;</span><span class="token punctuation">,</span> push_result<span class="token punctuation">)</span>
        surplus_push_num <span class="token operator">=</span> surplus_push_num<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;剩余&#39;</span> <span class="token operator">+</span> surplus_push_num <span class="token operator">+</span> <span class="token string">&#39;次提交机会&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;请将内容填充!5秒钟后自动关闭&quot;</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">)</span>
    new_answer <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;是否还需要提交，如果是的话请先去更改一下相应文件，如果是请输入1,如果否请输入0\\n&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> new_answer <span class="token operator">==</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;提交结束,5秒钟后自动关闭&quot;</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    push_num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;现在开始第&quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>push_num<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&#39;次提交&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要在 python 文件新建两个 txt 文件，分别放 token 和链接。</p><p>然后其实就可以直接双击打开 python 文件进行提交了。如果有什么疑问可以直接问。</p><p>利用 python 向百度推送网站链接</p><p>欢迎关注我公众号：AI悦创，有更多更好玩的等你发现！</p><details class="custom-container details"><summary>公众号：AI悦创【二维码】</summary><p><img src="`+e+'" alt="" loading="lazy"></p></details>',7),_={class:"custom-container info"},y=n("p",{class:"custom-container-title"},"AI悦创·编程一对一",-1),h=n("p",null,"AI悦创·推出辅导班啦，包括「Python 语言辅导班、C++ 辅导班、java 辅导班、算法/数据结构辅导班、少儿编程、pygame 游戏开发」，全部都是一对一教学：一对一辅导 + 一对一答疑 + 布置作业 + 项目实践等。当然，还有线下线上摄影课程、Photoshop、Premiere 一对一教学、QQ、微信在线，随时响应！微信：Jiabcdefh",-1),w=n("p",null,"C++ 信息奥赛题解，长期更新！长期招收一对一中小学信息奥赛集训，莆田、厦门地区有机会线下上门，其他地区线上。微信：Jiabcdefh",-1),q={href:"http://wpa.qq.com/msgrd?v=3&uin=1432803776&site=qq&menu=yes",target:"_blank",rel:"noopener noreferrer"},f=n("p",null,"方法二：微信：Jiabcdefh",-1),x=n("p",null,[n("img",{src:o,alt:"",loading:"lazy"})],-1);function z(N,A){const a=u("ExternalLinkIcon");return c(),l("div",null,[k,n("p",null,[s("百度提交页面："),n("a",d,[s("https://ziyuan.baidu.com/linksubmit/index"),t(a)])]),v,n("ul",null,[n("li",null,[n("a",m,[s("https://ziyuan.baidu.com/college/courseinfo?id=267&page=3s"),t(a)])]),b]),g,n("div",_,[y,h,w,n("p",null,[s("方法一："),n("a",q,[s("QQ"),t(a)])]),f]),x])}const W=i(r,[["render",z],["__file","02-baidu.html.vue"]]);export{W as default};
