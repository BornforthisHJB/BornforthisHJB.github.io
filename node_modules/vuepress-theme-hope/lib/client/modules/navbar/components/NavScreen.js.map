{"version":3,"file":"NavScreen.js","sourceRoot":"","sources":["../../../../../src/client/modules/navbar/components/NavScreen.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAC7C,OAAO,EACL,UAAU,EACV,eAAe,EACf,CAAC,EACD,GAAG,EACH,eAAe,EACf,SAAS,EACT,KAAK,GACN,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC,OAAO,EAAE,SAAS,EAAE,MAAM,kCAAkC,CAAC;AAC7D,OAAO,cAAc,MAAM,yDAAyD,CAAC;AACrF,OAAO,eAAe,MAAM,2DAA2D,CAAC;AAIxF,OAAO,2BAA2B,CAAC;AAEnC,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,WAAW;IAEjB,KAAK,EAAE;QACL,MAAM,EAAE,OAAO;KAChB;IAED,KAAK,EAAE,CAAC,OAAO,CAAC;IAEhB,KAAK,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;QAC1B,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,MAAM,QAAQ,GAAG,SAAS,EAAE,CAAC;QAE7B,MAAM,IAAI,GAAG,GAAG,EAAsB,CAAC;QACvC,MAAM,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;QAErC,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;YACxB,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM;gBAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,KAAK,CACH,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAChB,GAAG,EAAE;YACH,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,OAAO,CAAC,CAAC;QAChB,CAAC,CACF,CAAC;QAEF,SAAS,CAAC,GAAG,EAAE;YACb,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,eAAe,CAAC,GAAG,EAAE;YACnB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,OAAO,GAAU,EAAE,CACjB,CAAC,CACC,UAAU,EACV;YACE,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,GAAG,EAAE;gBACZ,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;YACxB,CAAC;YACD,YAAY,EAAE,GAAG,EAAE;gBACjB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACzB,CAAC;SACF,EACD,GAAG,EAAE,CACH,KAAK,CAAC,MAAM;YACV,CAAC,CAAC,CAAC,CACC,KAAK,EACL,EAAE,EAAE,EAAE,YAAY,EAAE,EACpB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE;gBAC/B,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAE;gBACnB,CAAC,CAAC,cAAc,CAAC;gBACjB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC;gBAC1D,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE;aACnB,CAAC,CACH;YACH,CAAC,CAAC,IAAI,CACX,CAAC;IACN,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { useScrollLock } from \"@vueuse/core\";\nimport {\n  Transition,\n  defineComponent,\n  h,\n  ref,\n  onBeforeUnmount,\n  onMounted,\n  watch,\n} from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport { useMobile } from \"@theme-hope/composables/index.js\";\nimport NavScreenLinks from \"@theme-hope/modules/navbar/components/NavScreenLinks.js\";\nimport OutlookSettings from \"@theme-hope/modules/outlook/components/OutlookSettings.js\";\n\nimport type { VNode } from \"vue\";\n\nimport \"../styles/nav-screen.scss\";\n\nexport default defineComponent({\n  name: \"NavScreen\",\n\n  props: {\n    active: Boolean,\n  },\n\n  emits: [\"close\"],\n\n  setup(props, { emit, slots }) {\n    const route = useRoute();\n    const isMobile = useMobile();\n\n    const body = ref<HTMLElement | null>();\n    const isLocked = useScrollLock(body);\n\n    watch(isMobile, (value) => {\n      if (!value && props.active) emit(\"close\");\n    });\n\n    watch(\n      () => route.path,\n      () => {\n        isLocked.value = false;\n        emit(\"close\");\n      }\n    );\n\n    onMounted(() => {\n      body.value = document.body;\n    });\n\n    onBeforeUnmount(() => {\n      isLocked.value = false;\n    });\n\n    return (): VNode =>\n      h(\n        Transition,\n        {\n          name: \"fade\",\n          onEnter: () => {\n            isLocked.value = true;\n          },\n          onAfterLeave: () => {\n            isLocked.value = false;\n          },\n        },\n        () =>\n          props.active\n            ? h(\n                \"div\",\n                { id: \"nav-screen\" },\n                h(\"div\", { class: \"container\" }, [\n                  slots[\"before\"]?.(),\n                  h(NavScreenLinks),\n                  h(\"div\", { class: \"outlook-wrapper\" }, h(OutlookSettings)),\n                  slots[\"after\"]?.(),\n                ])\n              )\n            : null\n      );\n  },\n});\n"]}