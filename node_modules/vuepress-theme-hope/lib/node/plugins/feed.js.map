{"version":3,"file":"feed.js","sourceRoot":"","sources":["../../../src/node/plugins/feed.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,uBAAuB,CAAC;AACnD,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAMlD,MAAM,CAAC,MAAM,aAAa,GAAG,CAC3B,WAA4B,EAC5B,OAA+C,EAC/C,QAAiB,EACjB,MAAM,GAAG,KAAK,EACC,EAAE;IACjB,IACE,OAAO,KAAK,KAAK;QACjB,6CAA6C;QAC7C,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM;QAElC,OAAO,IAAI,CAAC;IAEd,OAAO,UAAU;IACf,6DAA6D;IAC7D,aAAa;IACb,UAAU,CACR;QACE,QAAQ;QACR,MAAM,EAAE,WAAW,CAAC,MAAM;QAC1B,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,GAAG,CAC9C,CAAC,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC;YACvC,UAAU;YACV,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,EAAE;SACnC,CACF;QACD,cAAc,EAAE;YACd,kBAAkB;YAClB,OAAO;YACP,SAAS;YACT,UAAU;YACV,UAAU;YACV,WAAW;YACX,SAAS;YACT,cAAc;SACf;KACF,EACD,OAAO,IAAI,EAAE,CACd,EACD,MAAM,CACP,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { feedPlugin } from \"vuepress-plugin-feed2\";\nimport { deepAssign } from \"vuepress-shared/node\";\n\nimport type { Plugin } from \"@vuepress/core\";\nimport type { FeedOptions } from \"vuepress-plugin-feed2\";\nimport type { HopeThemeConfig } from \"../../shared/index.js\";\n\nexport const getFeedPlugin = (\n  themeConfig: HopeThemeConfig,\n  options?: Omit<FeedOptions, \"hostname\"> | false,\n  hostname?: string,\n  legacy = false\n): Plugin | null => {\n  if (\n    options === false ||\n    // disable feed if no options for feed plugin\n    !Object.keys(options || {}).length\n  )\n    return null;\n\n  return feedPlugin(\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    deepAssign(\n      {\n        hostname,\n        author: themeConfig.author,\n        locales: Object.entries(themeConfig.locales).map(\n          ([localePath, { author, copyright }]) => [\n            localePath,\n            { author, channel: { copyright } },\n          ]\n        ),\n        customElements: [\n          \"ExternalLinkIcon\",\n          \"Badge\",\n          \"ChartJS\",\n          \"CodeDemo\",\n          \"CodeTabs\",\n          \"FlowChart\",\n          \"Mermaid\",\n          \"Presentation\",\n        ],\n      },\n      options || {}\n    ),\n    legacy\n  );\n};\n"]}