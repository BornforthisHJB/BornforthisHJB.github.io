import{ref as u,computed as f,unref as n,onMounted as m,isRef as g,watch as v,defineComponent as w,h as a}from"vue";import{useEventListener as d}from"@vueuse/core";import"../styles/video-player.scss";const l=t=>typeof t=="string"?t:`${t}px`,S=(t,e=0)=>{const r=u(),p=f(()=>l(n(t.width)||"100%")),o=u("auto"),h=c=>{const s=n(t.height),y=n(t.ratio)||16/9;return s?l(s):`${Number(c)/y+n(e)}px`},i=()=>{o.value=h(r.value.clientWidth)};return m(()=>{i(),g(e)&&v(e,()=>i()),d("orientationchange",()=>i()),d("resize",()=>i())}),{el:r,width:p,height:o}};var b=w({name:"VideoPlayer",props:{src:{type:String,required:!0},type:{type:String,default:""},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:Number,default:16/9},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},loop:Boolean},setup(t){const{el:e,width:r,height:p}=S(t);return()=>a("div",{class:"video-wrapper",ref:e,style:{width:r.value,height:p.value}},a("video",{crossorigin:"anonymous",poster:t.poster,controls:"",...t.loop?{loop:""}:{}},[...t.tracks.map(o=>a("track",o)),a("source",{src:t.src,type:t.type})]))}});export{b as default};
//# sourceMappingURL=VideoPlayer.js.map
