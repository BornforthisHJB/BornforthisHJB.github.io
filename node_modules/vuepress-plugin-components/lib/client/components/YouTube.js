import{usePageLang as f}from"@vuepress/client";import{ref as p,computed as u,unref as r,onMounted as g,isRef as m,watch as b,defineComponent as w,h as v}from"vue";import{useEventListener as c}from"@vueuse/core";import"../styles/youtube.scss";const y=t=>typeof t=="string"?t:`${t}px`,S=(t,l=0)=>{const a=p(),n=u(()=>y(r(t.width)||"100%")),i=p("auto"),s=e=>{const d=r(t.height),h=r(t.ratio)||16/9;return d?y(d):`${Number(e)/h+r(l)}px`},o=()=>{i.value=s(a.value.clientWidth)};return g(()=>{o(),m(l)&&b(l,()=>o()),c("orientationchange",()=>o()),c("resize",()=>o())}),{el:a,width:n,height:i}};var L=w({name:"YouTube",props:{id:{type:String,default:""},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:Number,default:16/9},autoplay:Boolean,loop:Boolean,showCc:Boolean,showAnnotations:Boolean,start:{type:Number,default:void 0},end:{type:Number,default:void 0},defaultCcLang:{type:String,default:""},uiLang:{type:String,default:""},listType:{type:String,default:""},list:{type:String,default:""},playlist:{type:String,default:""},disableControls:Boolean,disableFullscreen:Boolean,disableKeyboard:Boolean},setup(t){const l=f(),{el:a,width:n,height:i}=S(t),s=u(()=>t.id?`${t.id}?`:t.listType==="playlist"&&t.list?`?listType=playlist&list=${t.list.startsWith("PL")?t.list:`PL${t.list}`}&`:null),o=u(()=>{const e=new URLSearchParams;return t.autoplay&&e.set("autoplay","1"),t.loop&&e.set("loop","1"),t.showCc&&e.set("cc_load_policy","1"),t.showAnnotations&&e.set("iv_load_policy","3"),t.start&&e.set("start",t.start.toString()),t.end&&e.set("end",t.end.toString()),e.set("hl",t.uiLang||l.value),e.set("cc_lang_pref",t.defaultCcLang||l.value),e.set("color","white"),t.disableControls&&e.set("controls","0"),t.disableFullscreen&&e.set("fs","0"),t.disableKeyboard&&e.set("disablekb","1"),t.playlist&&e.set("playlist",t.playlist),e.toString()});return()=>s.value?v("iframe",{ref:a,src:`https://www.youtube.com/embed/${s.value}${o.value}`,class:"youtube-iframe",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; picture-in-picture",style:{width:n.value,height:i.value}}):null}});export{L as default};
//# sourceMappingURL=YouTube.js.map
