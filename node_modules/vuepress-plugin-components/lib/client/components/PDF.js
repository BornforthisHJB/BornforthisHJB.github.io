import{withBase as m}from"@vuepress/client";import{isLinkHttp as $}from"@vuepress/shared";import{ref as l,computed as c,unref as s,onMounted as h,isRef as y,watch as S,defineComponent as k,h as d}from"vue";import{checkIsMobile as N,checkIsSafari as z,checkIsiPad as f,checkIsiPhone as v}from"vuepress-shared/lib/client";import{useEventListener as g}from"@vueuse/core";import"../styles/pdf.scss";const w=e=>typeof e=="string"?e:`${e}px`,I=(e,r=0)=>{const u=l(),p=c(()=>w(s(e.width)||"100%")),i=l("auto"),n=t=>{const a=s(e.height),b=s(e.ratio)||16/9;return a?w(a):`${Number(t)/b+s(r)}px`},o=()=>{i.value=n(u.value.clientWidth)};return h(()=>{o(),y(r)&&S(r,()=>o()),g("orientationchange",()=>o()),g("resize",()=>o())}),{el:u,width:p,height:i}};var P=k({name:"PDF",props:{url:{type:String,required:!0},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:Number,default:16/9},page:{type:Number,default:1},toolbar:{type:Boolean,default:!0},zoom:{type:Number,default:100}},setup(e){const{el:r,width:u,height:p}=I(e),i=l(!0),n=l(!1),o=c(()=>`#page=${e.page}&toolbar=${e.toolbar?1:0}&zoom=${e.zoom}`);return h(()=>{const{userAgent:t}=navigator;N(t)?n.value=!0:z(t)&&(f(t)||v(t))&&(i.value=!1,(f(t)||v(t))&&(n.value=!0))}),()=>{const t=m(e.url),a=`${$(t)||__VUEPRESS_SSR__?"":(window==null?void 0:window.location.host)||""}${t}`;return d("div",{class:"pdf-preview",ref:r,style:{width:u.value,height:p.value}},[d("iframe",{class:"pdf-iframe",src:n.value?`https://drive.google.com/viewerng/viewer?embedded=true&url=${encodeURI(a)}`:`${m(e.url)}${i.value?o.value:""}`}),d("button",{class:"pdf-open-button",onClick:()=>{window.open(a)}},"Open")])}}});export{P as default};
//# sourceMappingURL=PDF.js.map
