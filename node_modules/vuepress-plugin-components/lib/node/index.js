import{useSassPalettePlugin as d}from"vuepress-plugin-sass-palette";import{Logger as b,getLocales as h}from"vuepress-shared/node";import{ensureEndingSlash as $}from"@vuepress/shared";import{getDirname as y,path as j}from"@vuepress/utils";const f={"/en/":{backToTop:"Back to top"},"/zh/":{backToTop:"返回顶部"},"/zh-tw/":{backToTop:"返回頂部"},"/de-at/":{backToTop:"Zurück nach oben."},"/vi/":{backToTop:"Trở lại đầu trang"},"/uk/":{backToTop:"Повернутися до початку"},"/ru/":{backToTop:"Вернуться к началу"},"/br/":{backToTop:"Volta ao topo"},"/pl/":{backToTop:"Wróć na górę"},"/sk/":{backToTop:"Back to top"},"/fr/":{backToTop:"Back to top"},"/es/":{backToTop:"Volver arriba"},"/ja/":{backToTop:"このページのトップへ戻る"}},u=new b("vuepress-plugin-components"),C=(o="")=>o==="fontawesome"||o.match(/^(?:https:)?\/\/kit\.fontawesome\.com\//)?"fas fa-":o==="iconfont"||o.match(/^(?:https:)?\/\/at\.alicdn\.com\/t\//)?"iconfont icon-":"",B=y(import.meta.url),s=$(j.resolve(B,"../client")),P=["Badge","BiliBili","CodePen","FontIcon","PDF","StackBlitz","VideoPlayer","YouTube"],v=o=>{if(o==="fontawesome")return{type:"script",content:"https://kit.fontawesome.com/ca37c296c5.js"};if(o==="iconfont")return{type:"style",content:'@import url("//at.alicdn.com/t/font_2410206_a0xb9hku9iu.css");'};const t=o.match(/^(?:https?:)?\/\//g)?o:`//${o}`;return t.endsWith(".css")?{type:"style",content:`@import url("${o}");`}:t.endsWith(".js")?{type:"script",content:o}:(u.error(`Can not recognize icon link: "${o}"`),null)},S=(o,t)=>{let n="",p="",i="",a="",r=!1,c=!1,T=!1;return t.components.forEach(e=>{if(P.includes(e)&&(n+=`import ${e} from "${s}components/${e}.js";
`,p+=`app.component("${e}", ${e});
`),e==="FontIcon"&&t.iconAssets){const m=v(t.iconAssets);if(m){const{type:k,content:l}=m;k==="script"?(c=!0,i+=`useScriptTag(\`${l}\`);
`):(T=!0,i+=`useStyleTag(\`${l}\`, { id: "icon-assets" });
`)}}}),typeof t.addThis=="string"&&(c=!0,i+=`useScriptTag(\`//s7.addthis.com/js/300/addthis_widget.js#pubid=${t.addThis}\`);
`),t.backToTop&&(r=!0,n+=`import BackToTop from "${s}components/BackToTop.js";
`,a+=`() => h(BackToTop, { threshold: ${typeof t.backToTop=="number"?t.backToTop:300} }),
`),o.writeTemp("components/config.js",`import { defineClientConfig } from "@vuepress/client";
${r?`import { h } from "vue";
`:""}
${c?`import { useScriptTag } from "${s}vueuse.js";
`:""}${T?`import { useStyleTag } from "${s}vueuse.js";
`:""}${n}

export default defineClientConfig({
  enhance: ({ app }) => {
${p.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  setup: () => {
${i.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  rootComponents: [
${a.split(`
`).map(e=>`    ${e}`).join(`
`)}
  ],
});
`)},g=o=>t=>(t.env.isDebug&&u.info(`Options: ${o.toString()}`),d(t,{id:"hope"}),{name:"vuepress-plugin-components",define:{BACK_TO_TOP_LOCALES:h({app:t,name:"backToTop",default:f,config:o.backToTopLocales}),ICON_PREFIX:typeof o.iconPrefix=="string"?o.iconPrefix:C(o.iconAssets)},clientConfigFile:n=>S(n,o)});export{f as backToTopLocales,g as componentsPlugin,g as default};
//# sourceMappingURL=index.js.map
