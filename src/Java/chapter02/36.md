---
title: 36-å‚æ•°ï¼šè®© Merchandise è®¡ç®—å¤šä»¶å•†å“çš„æ€»ä»·
date: 2024-12-31 09:48:38
icon: java
author: AIæ‚¦åˆ›
isOriginal: true
category: 
    - Javaä½“ç³»è¯¾
tag:
    - Javaä½“ç³»è¯¾
sticky: false
star: false
article: true
timeline: true
image: false
navbar: true
sidebarIcon: true

comment: true
lastUpdated: true
editLink: false
backToTop: true
toc: true
footer: é•¿æœŸæ‹›æ”¶ç¼–ç¨‹ä¸€å¯¹ä¸€å­¦å‘˜ï¼å¾®ä¿¡ï¼šJiabcdefh, <a href="https://beian.miit.gov.cn/" target="_blank">é—½ICPå¤‡19021486å·-6</a>
---

## 0. ç›®å½•

- ç¬¬äºŒä»¶åŠä»·å“¦ï¼
- å‚æ•°ï¼šå‘Šè¯‰å•†å“å®ä¾‹è¦è´­ä¹°å¤šå°‘ä¸ª

## 1. ç¬¬äºŒä»¶åŠä»·å“¦ï¼

::: code-tabs

@tab RunLittleSupperMarketAppMain

```java {37-63}
package com.bornforthis;

import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMain {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        // åˆ›å»ºä¸€ä¸ªScannerè¯»å–è¾“å…¥
        Scanner scanner = new Scanner(System.in);
        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();
            if (index < 0) {
                System.out.println("æ¬¢è¿å†æ¬¡å…‰ä¸´ï¼");
                break;
            }
            double price = littleSuperMarket.merchandises[index].purchasePrice;
            System.out.println("å•†å“å•ä»·ä¸º" + price);

            System.out.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æ•°é‡ï¼š");
            int count = scanner.nextInt();

            if (littleSuperMarket.merchandises[index].count < count) {
                System.out.println("å•†å“åº“å­˜ä¸è¶³ã€‚");
                continue;
            }

            int fullPriceCount = count / 2 + count % 2;
            int halfPriceCount = count - fullPriceCount;
            double totalCost = price * fullPriceCount + halfPriceCount * price / 2;

            littleSuperMarket.merchandises[index].count -= count;

            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);
        }

    }
}
```

@tab RunLittleSupperMarketAppMainExample

```java
package com.geekbang;

import com.geekbang.supermarket.LittleSuperMarket;
import com.geekbang.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMainExample {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        Scanner scanner = new Scanner(System.in);

        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();

            if (index < 0) {
                break;
            }

            if (index >= all.length) {
                System.out.println("å•†å“ç´¢å¼•è¶…å‡ºç•Œé™");
                continue;
            }

            MerchandiseV2 m = all[index];
            System.out.println("å•†å“" + m.name + "å”®ä»·ä¸º" + m.soldPrice + "ã€‚è¯·é—®è´­ä¹°å‡ ä¸ªï¼Ÿ");
            int numToBuy = scanner.nextInt();

            if (numToBuy > m.count) {
                System.out.println("åº“å­˜ä¸è¶³");
                continue;
            }

            int fullPriceCount = numToBuy / 2 + numToBuy % 2;
            int halfPriceCount = numToBuy - fullPriceCount;

            double totalCost = fullPriceCount * m.soldPrice + (halfPriceCount * m.soldPrice / 2);

            m.count -= numToBuy;

            System.out.println("é€‰è´­çš„å•†å“æ€»ä»·ä¸º" + totalCost);
        }


    }
}
```





:::

### 1.1 åŠä»¶å®ç°é€»è¾‘è¯¦è§£

`count / 2 + count % 2;`å…¬å¼è§£æï¼Œå¯ä»¥é™¤çš„å°½çš„ï¼Œæ˜¯å¶æ•°çš„å€æ•°ï¼Œé‚£å°±æ˜¯è´­ä¹°ä¸¤ä»¶çš„æ•°é‡ã€‚è€Œä½™æ•°åˆ™æ˜¯ï¼šæ²¡æœ‰ä¹°ä¸¤ä»¶ã€Œå¶æ•°ã€çš„ä»¶æ•°ã€‚

**è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†æï¼š**

1. `fullPriceCount = count / 2 + count % 2`

    - è¿™è¡Œä»£ç è®¡ç®—éœ€è¦æ”¯ä»˜å…¨ä»·çš„å•†å“æ•°é‡

    - `count / 2` æ˜¯æ•´æ•°é™¤æ³•ï¼Œå¾—åˆ°å•†å“æ€»æ•°çš„ä¸€åŠï¼ˆå‘ä¸‹å–æ•´ï¼‰

    - `count % 2` æ˜¯å–ä½™æ“ä½œï¼Œå½“æ€»æ•°ä¸ºå¥‡æ•°æ—¶ç­‰äº1ï¼Œå¶æ•°æ—¶ç­‰äº0

    - å®é™…æ•ˆæœæ˜¯ï¼šå¯¹äºå¥‡æ•°ä¸ªå•†å“ï¼Œå…¨ä»·å•†å“ä¼šæ¯”åŠä»·å•†å“å¤šä¸€ä¸ª

    - **ä¸¾ä¾‹ï¼š**

        - å¦‚æœ `count = 5`

        - `count} / 2 = 2`ï¼ˆæ•´æ•°é™¤æ³•ï¼‰

        - `count % 2 = 1`

        - `fullPriceCount} = 2 + 1 = 3`ï¼ˆéœ€è¦æ”¯ä»˜å…¨ä»·çš„å•†å“æ•°ï¼‰

2. `halfPriceCount = count - fullPriceCount`

    - è¿™è¡Œç®€å•åœ°ç”¨æ€»æ•°å‡å»å…¨ä»·å•†å“æ•°ï¼Œå¾—åˆ°åŠä»·å•†å“æ•°

    - ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œ`halfPriceCount = 5 - 3 = 2`

3. `totalCost = price * fullPriceCount + halfPriceCount * price / 2`
    1. `è®¡ç®—æ€»ä»·ï¼šå…¨ä»·å•†å“æ•°é‡ Ã— å•ä»· + åŠä»·å•†å“æ•°é‡ Ã— (å•ä»·/2)`

å®ç°ä¸€ä¸ª"ä¹°äºŒèµ ä¸€åŠä»·"çš„ä¿ƒé”€ç­–ç•¥ï¼Œå…¶ä¸­ï¼š

- å½“æ€»æ•°ä¸ºå¶æ•°æ—¶ï¼Œæ­£å¥½å„ä¸€åŠå•†å“å…¨ä»·å’ŒåŠä»·
- å½“æ€»æ•°ä¸ºå¥‡æ•°æ—¶ï¼Œå…¨ä»·å•†å“ä¼šæ¯”åŠä»·å•†å“å¤šä¸€ä¸ª

è®©æˆ‘ç”¨å…·ä½“æ•°å­—ä¸¾ä¾‹è¯´æ˜ï¼š

```java
// å‡è®¾ price = 100
// æƒ…å†µ1ï¼šä¹°5ä¸ª
count = 5
fullPriceCount = 5/2 + 5%2 = 2 + 1 = 3  // 3ä¸ªå…¨ä»·
halfPriceCount = 5 - 3 = 2  // 2ä¸ªåŠä»·
totalCost = 100*3 + 2*100/2 = 300 + 100 = 400

// æƒ…å†µ2ï¼šä¹°6ä¸ª
count = 6
fullPriceCount = 6/2 + 6%2 = 3 + 0 = 3  // 3ä¸ªå…¨ä»·
halfPriceCount = 6 - 3 = 3  // 3ä¸ªåŠä»·
totalCost = 100*3 + 3*100/2 = 300 + 150 = 450
```

è¿™ç§è®¡ç®—æ–¹å¼ç¡®ä¿äº†ï¼š

1. å•†å“æ€»æ˜¯å°½å¯èƒ½å¹³å‡åˆ†é…ä¸ºå…¨ä»·å’ŒåŠä»·
2. å½“æ•°é‡ä¸ºå¥‡æ•°æ—¶ï¼Œå¤šå‡ºçš„ä¸€ä¸ªå•†å“æŒ‰å…¨ä»·è®¡ç®—
3. ä¿è¯äº†å•†å®¶åœ¨ä¿ƒé”€çš„åŒæ—¶ç»´æŒåŸºæœ¬åˆ©æ¶¦

### 1.2 è¿™ç§æ–¹å¼æœ‰å“ªäº›é—®é¢˜ï¼Ÿ

- æ¯ä¸ªç”¨åˆ°è¿™ä¸ªé€»è¾‘çš„åœ°æ–¹ï¼Œéƒ½è¦é‡å¤è¿™æ®µä»£ç 
- å¦‚æœå‘Šè¯‰å•†å“è¦ä¹°å¤šå°‘ä¸ªï¼Œå•†å“å¸®æˆ‘ç®—å¤šå°‘é’±ï¼Œå°±ä¸ç”¨é‡å¤ä»£ç äº†





## 2. LittleSuperMarket å®ç°

::: code-tabs

@tab LittleSuperMarket

```java {15-18}
package com.bornforthis.supermarket;

public class LittleSuperMarket {
    public String superMarketName;
    public String address;
    public int parkingCount;
    public double incomingSum;
    public MerchandiseV2[] merchandises;
    public int[] merchandiseSold;

    public MerchandiseV2 getBiggestProfitMerchandise() {
        MerchandiseV2 curr = null;
        for (int i = 0; i < merchandises.length; i++) {
            MerchandiseV2 m = merchandises[i];
            // è¿™ä¸ªé€»è¾‘æœ‰é—®é¢˜å—ï¼Ÿç›¸åŒçš„åˆ©æ¶¦æ€ä¹ˆåˆ¤æ–­ï¼Ÿ
            if (curr == null || curr.calculateProfit() < m.calculateProfit()) {
                curr = m;
            }
        }
        return curr;
    }
}
```

:::

### 2.1 ä¿ç•™ç›¸åŒæœ€å¤§å€¼çš„å‰åé—®é¢˜

å…ˆåˆ†æé—®é¢˜ï¼šåœ¨å½“å‰çš„ä»£ç å®ç°ä¸­ï¼Œ`if (curr == null || curr.calculateProfit() < m.calculateProfit())` è¿™ä¸ªæ¡ä»¶åªå¤„ç†äº†ä¸¤ç§æƒ…å†µï¼š

1. curr ä¸ºç©ºï¼ˆç¬¬ä¸€ä¸ªå•†å“çš„æƒ…å†µï¼‰

2. å½“å‰å•†å“çš„åˆ©æ¶¦å¤§äºå·²ä¿å­˜å•†å“çš„åˆ©æ¶¦

è¿™ä¸ªé€»è¾‘ç¡®å®å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“ä¸¤ä¸ªå•†å“çš„åˆ©æ¶¦ç›¸åŒæ—¶ï¼Œå®ƒä¼šä¿ç•™ç¬¬ä¸€ä¸ªé‡åˆ°çš„æœ€é«˜åˆ©æ¶¦å•†å“ã€‚è¿™å¯èƒ½ä¸æ˜¯æœ€åˆç†çš„å¤„ç†æ–¹å¼ï¼Œå› ä¸ºåœ¨åˆ©æ¶¦ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½è¿˜éœ€è¦è€ƒè™‘å…¶ä»–å› ç´ ã€‚

è¿™é‡Œæœ‰å‡ ç§å¯èƒ½çš„æ”¹è¿›æ–¹æ¡ˆï¼š

1. æ–¹æ¡ˆä¸€ï¼šå¦‚æœå°±æ˜¯è¦ä¿ç•™ç¬¬ä¸€ä¸ªæœ€é«˜åˆ©æ¶¦å•†å“ï¼Œé‚£ä¹ˆå½“å‰é€»è¾‘æ˜¯å¯ä»¥çš„ï¼Œä½†æœ€å¥½æ˜ç¡®æ³¨é‡Šè¯´æ˜è¿™æ˜¯æœ‰æ„ä¸ºä¹‹ï¼š

    ```java
    // å½“åˆ©æ¶¦ç›¸åŒæ—¶ï¼Œä¿ç•™ç¬¬ä¸€ä¸ªæœ€é«˜åˆ©æ¶¦çš„å•†å“
    if (curr == null || curr.calculateProfit() < m.calculateProfit()) {
        curr = m;
    }
    ```

    ã€è¯æ˜ã€‘ä¿ç•™çš„æœ€å¤§ç›¸åŒæ¯›åˆ©æ¶¦æ˜¯ä¿ç•™ç¬¬ä¸€ä¸ªè¿˜æ˜¯æœ€åä¸€ä¸ªï¼Ÿ

    ```java
    package com.bornforthis;
    
    public class Main {
        public static void main(String[] args) {
            int[] arr = {1, 2, 3, 4, 5, 10, 9, 10, 8, 10};
            int max = arr[0];
            int maxIndex = 0;
            for (int i = 0; i < arr.length; i++) {
                if (arr[i] > max) {
                    max = arr[i];
                    maxIndex = i;
                }
            }
            System.out.println(maxIndex);
        }
    }
    
    // è¾“å‡º
    5
    
    // TODOï¼šå¯çŸ¥è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªæœ€å¤§å€¼
    ```

    ä¸ä¿ç•™æœ€åçš„ç›¸åŒçš„æœ€å¤§å€¼ä¸‹æ ‡æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿå› ä¸ºä¸è®ºæ˜¯ `>` è¿˜æ˜¯ `<` éƒ½ä¸ä¼šæ‰§è¡Œç›¸åŒçš„æƒ…å†µï¼ˆ3 > 3 => falseï¼‰ï¼Œåªæœ‰åœ¨ ï¼ˆ3 >= 3 => trueï¼‰

    ä¿ç•™æœ€åä¸€ä¸ªæœ€å¤§å€¼ï¼Œåªéœ€è¦ä¿®æ”¹å¦‚ä¸‹ä»£ç ï¼š

    ```java
    if (arr[i] >= max)
    ```

2. æ–¹æ¡ˆäºŒï¼šå¦‚æœè¦ä¿ç•™æœ€åä¸€ä¸ªæœ€é«˜åˆ©æ¶¦å•†å“ï¼Œå¯ä»¥æ”¹ä¸ºï¼š

    ```java
    if (curr == null || curr.calculateProfit() <= m.calculateProfit()) {
        curr = m;
    }
    ```

3. æ–¹æ¡ˆä¸‰ï¼šå¦‚æœé‡åˆ°ç›¸åŒåˆ©æ¶¦è¦æŒ‰ç…§å…¶ä»–æ¡ä»¶åˆ¤æ–­ï¼ˆæ¯”å¦‚é”€é‡ã€åº“å­˜ç­‰ï¼‰ï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼š

    ```java {24-39}
    /*
     * @Time    : 2024/12/31 10:12
     * @Author  : AIæ‚¦åˆ›
     * @FileName: LittleSuperMarket.java
     * @Software: IntelliJ IDEA
     * @Version: V1.0
     * @Blog    : https://bornforthis.cn/
     * Code is far away from bugs with the god animal protecting
     * I love animals. They taste delicious.
     */
    package com.bornforthis.supermarket;
    
    public class LittleSuperMarket {
        public String superMarketName;
        public String address;
        public int parkingCount;
        public double incomingSum;
        public MerchandiseV2[] merchandises;
        public int[] merchandiseSold;
    
        public MerchandiseV2 getBiggestProfitMerchandise() {
            MerchandiseV2 curr = null;
            for (int i = 0; i < merchandises.length; i++) {
                MerchandiseV2 m = merchandises[i];
                if (curr == null) {
                    curr = m;
                } else {
                    double currProfit = curr.calculateProfit();
                    double mProfit = m.calculateProfit();
                    if (currProfit < mProfit) {
                        curr = m;
                    } else if (currProfit == mProfit) {
                        System.out.println("å‘ç°ç›¸åŒçš„åˆ©æ¶¦å•†å“ï¼Œå•†å“ç´¢å¼•ä¸ºï¼š" + i);
                        // TODO: ç›¸åŒåº“å­˜æƒ…å†µä¸‹ï¼Œåº“å­˜æ•°é‡å°‘çš„ï¼Œè¡¨æ˜é”€é‡é«˜ï¼
                        if (curr.count > m.count) {
                            curr = m;
                        }
                    }
                }
    
            }
            return curr;
        }
    
    }
    ```

4. å»ºè®®é€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œå–å†³äºå…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ï¼š

    - å¦‚æœåªå…³å¿ƒæ‰¾å‡ºæœ€é«˜åˆ©æ¶¦ï¼Œä¸åœ¨æ„æ˜¯ç¬¬ä¸€ä¸ªè¿˜æ˜¯æœ€åä¸€ä¸ªï¼Œç”¨æ–¹æ¡ˆ1æˆ–2éƒ½å¯ä»¥
    - å¦‚æœåœ¨åˆ©æ¶¦ç›¸åŒæ—¶è¿˜éœ€è¦è€ƒè™‘å…¶ä»–å› ç´ ï¼Œå»ºè®®ä½¿ç”¨æ–¹æ¡ˆ3
    - æ— è®ºé€‰æ‹©å“ªç§æ–¹æ¡ˆï¼Œéƒ½å»ºè®®æ·»åŠ æ³¨é‡Šè¯´æ˜å¤„ç†ç›¸åŒåˆ©æ¶¦çš„ç­–ç•¥ï¼Œä»¥ä¾¿å…¶ä»–å¼€å‘è€…ç†è§£ä»£ç é€»è¾‘



## 3. å‚æ•°ï¼šå‘Šè¯‰å•†å“å®ä¾‹è¦è´­ä¹°å¤šå°‘ä¸ª

çœ‹ MerchandiseV2 ä¸­çš„æ–°æ–¹æ³•ï¼Œå­¦ä¹ æ–¹æ³•å‚æ•°ç›¸å…³è¯­æ³•

::: code-tabs

@tab MerchandiseV2

```java {26-48}
package com.bornforthis.supermarket;

public class MerchandiseV2 {

    public String name;
    public String id;
    public int count;
    public double soldPrice;
    public double purchasePrice;

    public void describe() {
        System.out.println("å•†å“åå­—å«åš" + name + "ï¼Œidæ˜¯" + id + "ã€‚ å•†å“å”®ä»·æ˜¯" + soldPrice
            + "ã€‚å•†å“è¿›ä»·æ˜¯" + purchasePrice + "ã€‚å•†å“åº“å­˜é‡æ˜¯" + count +
            "ã€‚é”€å”®ä¸€ä¸ªçš„æ¯›åˆ©æ¶¦æ˜¯" + (soldPrice - purchasePrice));
    }

    // è®¡ç®—åˆ©æ¶¦ğŸ’°
    public double calculateProfit() {
        double profit = soldPrice - purchasePrice;
        if(profit <= 0){
            return 0;
        }
        return profit;
    }

    // >> TODO å‚æ•°æ˜¯å®šä¹‰åœ¨æ–¹æ³•åå­—åé¢çš„æ‹¬å·é‡Œçš„
    // >> TODO å‚æ•°å®šä¹‰çš„è§„èŒƒå’Œå˜é‡ä¸€æ ·ï¼Œéƒ½æ˜¯ç±»å‹åå­—åŠ æ ‡è¯†ç¬¦ï¼Œè¿™é‡Œçš„æ ‡è¯†ç¬¦æˆ‘ä»¬å«åšå‚æ•°åã€‚
    // >> TODO æ–¹æ³•ä½“ä¸­çš„ä»£ç å¯ä»¥ä½¿ç”¨å‚æ•°
    // >> TODO å‚æ•°çš„å€¼åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™éœ€è¦ç»™å‡ºï¼Œæœ‰çš„èµ„æ–™å«åšå®å‚ï¼ˆå®é™…å‚æ•°ï¼‰
    //    TODO å¯¹åº”çš„ï¼Œæ–¹æ³•å®šä¹‰è¿™é‡Œçš„å‚æ•°ï¼Œå«åšå½¢å‚ï¼ˆå½¢å¼å‚æ•°ï¼‰
    // å¦‚æœè¿”å›å€¼æ˜¯è´Ÿæ•°ï¼Œå°±ä»£è¡¨è´­ä¹°å¤±è´¥ï¼Œæ¯”å¦‚åº“å­˜ä¸è¶³
    public double buy(int countToBuy) {
        if (count < countToBuy) {
            System.out.println("å•†å“åº“å­˜ä¸å¤Ÿ");
            return -1;
        }

        // FIXME: é”€å”®åº”è¯¥ç”¨soldPriceè€Œä¸æ˜¯purchasePriceï¼Œè°¢è°¢ @Novichok æŒ‡å‡ºè¿™ä¸ªé”™è¯¯
        System.out.println("å•†å“å•ä»·ä¸º" + soldPrice);

        int fullPriceCount = countToBuy / 2 + countToBuy % 2;
        int halfPriceCount = countToBuy - fullPriceCount;
        double totalCost = soldPrice * fullPriceCount + halfPriceCount * soldPrice / 2;

        count -= countToBuy;

        return totalCost;
    }
}
```

@tab RunLittleSupperMarketAppMainV2

```java {47-64}
/*
 * @Time    : 2024/12/31 11:55
 * @Author  : AIæ‚¦åˆ›
 * @FileName: RunLittleSupperMarketAppMainV2.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis;

import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMainV2 {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        // åˆ›å»ºä¸€ä¸ªScannerè¯»å–è¾“å…¥
        Scanner scanner = new Scanner(System.in);
        MerchandiseV2 m0 = all[0];
        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();
            if (index < 0) {
                System.out.println("æ¬¢è¿å†æ¬¡å…‰ä¸´ï¼");
                break;
            }

            System.out.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æ•°é‡ï¼š");
            int count = scanner.nextInt();

            MerchandiseV2 m = littleSuperMarket.merchandises[index];
            double totalCost = m.buy(count);
            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);
        }

    }
}
```



:::





## 4. æ›´å¤šå‚æ•°çš„è¯­æ³•

::: code-tabs

@tab MerchandiseV2

```java {49-76}
package com.geekbang.supermarket;

public class MerchandiseV2 {

    public String name;
    public String id;
    public int count;
    public double soldPrice;
    public double purchasePrice;

    public void describe() {
        System.out.println("å•†å“åå­—å«åš" + name + "ï¼Œidæ˜¯" + id + "ã€‚ å•†å“å”®ä»·æ˜¯" + soldPrice
            + "ã€‚å•†å“è¿›ä»·æ˜¯" + purchasePrice + "ã€‚å•†å“åº“å­˜é‡æ˜¯" + count +
            "ã€‚é”€å”®ä¸€ä¸ªçš„æ¯›åˆ©æ¶¦æ˜¯" + (soldPrice - purchasePrice));
    }

    public double calculateProfit() {
        double profit = soldPrice - purchasePrice;
        if(profit <= 0){
            return 0;
        }
        return profit;
    }

    // >> TODO å‚æ•°æ˜¯å®šä¹‰åœ¨æ–¹æ³•åå­—åé¢çš„æ‹¬å·é‡Œçš„
    // >> TODO å‚æ•°å®šä¹‰çš„è§„èŒƒå’Œå˜é‡ä¸€æ ·ï¼Œéƒ½æ˜¯ç±»å‹åå­—åŠ æ ‡è¯†ç¬¦ï¼Œè¿™é‡Œçš„æ ‡è¯†ç¬¦æˆ‘ä»¬å«åšå‚æ•°åã€‚
    // >> TODO æ–¹æ³•ä½“ä¸­çš„ä»£ç å¯ä»¥ä½¿ç”¨å‚æ•°
    // >> TODO å‚æ•°çš„å€¼åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™éœ€è¦ç»™å‡ºï¼Œæœ‰çš„èµ„æ–™å«åšå®å‚ï¼ˆå®é™…å‚æ•°ï¼‰
    //    TODO å¯¹åº”çš„ï¼Œæ–¹æ³•å®šä¹‰è¿™é‡Œçš„å‚æ•°ï¼Œå«åšå½¢å‚ï¼ˆå½¢å¼å‚æ•°ï¼‰
    // å¦‚æœè¿”å›å€¼æ˜¯è´Ÿæ•°ï¼Œå°±ä»£è¡¨è´­ä¹°å¤±è´¥ï¼Œæ¯”å¦‚åº“å­˜ä¸è¶³
    public double buy(int countToBuy) {
        if (count < countToBuy) {
            System.out.println("å•†å“åº“å­˜ä¸å¤Ÿ");
            return -1;
        }

        // FIXME: é”€å”®åº”è¯¥ç”¨soldPriceè€Œä¸æ˜¯purchasePriceï¼Œè°¢è°¢ @Novichok æŒ‡å‡ºè¿™ä¸ªé”™è¯¯
        System.out.println("å•†å“å•ä»·ä¸º" + soldPrice);

        int fullPriceCount = countToBuy / 2 + countToBuy % 2;
        int halfPriceCount = countToBuy - fullPriceCount;
        double totalCost = soldPrice * fullPriceCount + halfPriceCount * soldPrice / 2;

        count -= countToBuy;

        return totalCost;
    }

    // >> TODO ä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ç”¨é€—å·éš”å¼€
    // >> TODO å°±æ˜¯ä½ è´­ä¹°å¹¶ä¸”å†æ‰“å°å‡ºæ¥è¿˜å‰©å¤šå°‘ä¸ªï¼Œä½¿ç”¨ä¸€ä¸ªå‚æ•° boolean printLeft å‘Šè¯‰æ–¹æ³•è¦ä¸è¦æ‰“å°ï¼
    // 	       æœ‰æ—¶æˆ‘ä»¬å…³å¿ƒå•†å“è¿˜å‰©å¤šå°‘ä¸ªï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸å…³å¿ƒè¿˜å‰©å¤šå°‘ä¸ªï¼›
    // >> TODO æ–¹æ³•çš„è¿”å›å€¼åªèƒ½æœ‰ä¸€ä¸ªï¼Œä½†æ˜¯æ–¹æ³•çš„å‚æ•°å¯ä»¥æœ‰å¤šä¸ªï¼›
    public double buyAndPrintLeft(int countToBuy, boolean printLeft) {
        if (count < countToBuy) {
            System.out.println("å•†å“åº“å­˜ä¸å¤Ÿ");
            if (printLeft) {
                System.out.println("å•†å“å‰©ä½™åº“å­˜ä¸º" + count);
            }
            return -1;
        }

        // FIXME: é”€å”®åº”è¯¥ç”¨soldPriceè€Œä¸æ˜¯purchasePriceï¼Œè°¢è°¢ @Novichok æŒ‡å‡ºè¿™ä¸ªé”™è¯¯
        System.out.println("å•†å“å•ä»·ä¸º" + soldPrice);

        int fullPriceCount = countToBuy / 2 + countToBuy % 2;
        int halfPriceCount = countToBuy - fullPriceCount;
        double totalCost = soldPrice * fullPriceCount + halfPriceCount * soldPrice / 2;

        count -= countToBuy;

        if (printLeft) {
            System.out.println("å•†å“å‰©ä½™åº“å­˜ä¸ºï¼š" + count);
        }

        return totalCost;
    }
}
```

@tab RunLittleSupperMarketAppMainV2

```java {65-70}
/*
 * @Time    : 2024/12/31 11:55
 * @Author  : AIæ‚¦åˆ›
 * @FileName: RunLittleSupperMarketAppMainV2.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis;

import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMainV2 {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        // åˆ›å»ºä¸€ä¸ªScannerè¯»å–è¾“å…¥
        Scanner scanner = new Scanner(System.in);
        MerchandiseV2 m0 = all[0];
        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();
            if (index < 0) {
                System.out.println("æ¬¢è¿å†æ¬¡å…‰ä¸´ï¼");
                break;
            }

            System.out.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æ•°é‡ï¼š");
            int count = scanner.nextInt();

//            MerchandiseV2 m = littleSuperMarket.merchandises[index];
//            double totalCost = m.buy(count);
//            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);

            // TODO: å’Œä¸Šé¢ buy çš„è®¡ç®—é€»è¾‘å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ·»åŠ äº†ä¸€ä¸ªæ‰“å°å‰©ä½™åº“å­˜çš„é€»è¾‘
            MerchandiseV2 m = littleSuperMarket.merchandises[index];
            // TODO: è¿™æ—¶å€™ä¸æ·»åŠ  trueï¼Œåªæ·»åŠ  countï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
            //       ä¼šå‘ç°ï¼Œä¼šæŠ¥é”™ï¼
            double totalCost = m.buyAndPrintLeft(count, true);
            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);
        }

    }
}
```

:::

## 5. å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹

å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ç±»å‹ï¼Œç”šè‡³æ˜¯è‡ªå·±çš„ç±»å‹éƒ½æ²¡é—®é¢˜

::: code-tabs

@tab MerchandiseV2

```java
// >> TODO å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ç±»å‹ï¼Œç”šè‡³æ˜¯è‡ªå·±çš„ç±»å‹éƒ½æ²¡é—®é¢˜
public boolean totalValueBiggerThan(MerchandiseV2 merchandiseV2) {
    return count * purchasePrice > merchandiseV2.purchasePrice * merchandiseV2.count;
}
```

@tab RunLittleSupperMarketAppMainV2

```java {49,71-72}
/*
 * @Time    : 2024/12/31 11:55
 * @Author  : AIæ‚¦åˆ›
 * @FileName: RunLittleSupperMarketAppMainV2.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis;

import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMainV2 {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        // åˆ›å»ºä¸€ä¸ªScannerè¯»å–è¾“å…¥
        Scanner scanner = new Scanner(System.in);
        MerchandiseV2 m0 = all[0];  // ä¸è®ºæ€ä¹ˆæ ·ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨ç¬¬ä¸€ä¸ªå•†å“è·Ÿå®ƒæ¯”è¾ƒ
        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();
            if (index < 0) {
                System.out.println("æ¬¢è¿å†æ¬¡å…‰ä¸´ï¼");
                break;
            }

            System.out.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æ•°é‡ï¼š");
            int count = scanner.nextInt();

//            MerchandiseV2 m = littleSuperMarket.merchandises[index];
//            double totalCost = m.buy(count);
//            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);

            // TODO: å’Œä¸Šé¢ buy çš„è®¡ç®—é€»è¾‘å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ·»åŠ äº†ä¸€ä¸ªæ‰“å°å‰©ä½™åº“å­˜çš„é€»è¾‘
            MerchandiseV2 m = littleSuperMarket.merchandises[index];
            // TODO: è¿™æ—¶å€™ä¸æ·»åŠ  trueï¼Œåªæ·»åŠ  countï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
            //       ä¼šå‘ç°ï¼Œä¼šæŠ¥é”™ï¼
            double totalCost = m.buyAndPrintLeft(count, true);
            
            boolean m0BiggerThan = m0.totalValueBiggerThan(m);  // è¿™é‡Œæˆ‘ä»¬æ³¨é‡çš„ä¸å†æ˜¯å•†å“ã€è¶…å¸‚çš„é€»è¾‘ï¼Œæ›´å¤šçš„æ˜¯æ³¨é‡æ–¹æ³•çš„è°ƒç”¨
            System.out.println("m0çš„æ€»ä»·å€¼æ¯”ç”¨æˆ·é€‰æ‹©çš„è¦å¤§ï¼š" + m0BiggerThan);


            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);



        }

    }
}
```



:::

## 6. è‡ªå®šä¹‰ç±»å‹å‚æ•°

::: code-tabs

@tab MerchandiseV2

```java
// >> TODO å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ç±»å‹
// >> TODO å½“å‰çš„å•†å“æ˜¯ä¸æ˜¯è¶…å¸‚å½“ä¸­ï¼Œä»·å€¼æœ€é«˜çš„å•†å“ï¼
public boolean isTheBiggestTotalValueOne(LittleSuperMarket littleSuperMarket) {
    double totalValue = count * purchasePrice;
    for (int i = 0; i < littleSuperMarket.merchandises.length; i++) {
        MerchandiseV2 m = littleSuperMarket.merchandises[i];
        double newTotalValue = m.count * m.purchasePrice;
        if (totalValue < newTotalValue) {  // å½“ç„¶åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬æ˜¯ä¸æ¨èä½¿ç”¨ double è¿›è¡Œæ¯”è¾ƒ
            // æ‰§è¡Œåˆ°returnçš„æ—¶å€™ï¼Œæ–¹æ³•ç›´æ¥ç»“æŸï¼Œä¸ç®¡æ˜¯ä¸æ˜¯åœ¨å¾ªç¯ä¸­ï¼Œæ˜¯åœ¨ç¬¬å‡ å±‚å¾ªç¯ä¸­ã€‚
            return false;
        }
    }
    return true;
}
```



@tab RunLittleSupperMarketAppMainV2

```java {51-53}
package com.bornforthis;

import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.MerchandiseV2;

import java.util.Scanner;

public class RunLittleSupperMarketAppMainV2 {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå°è¶…å¸‚ç±»
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // ä¾æ¬¡ç»™è¶…å¸‚çš„åå­—ï¼Œåœ°å€ï¼Œåœè½¦ä½èµ‹å€¼
        littleSuperMarket.superMarketName = "æœ‰å®¶å°è¶…å¸‚";
        littleSuperMarket.address = "æµ¦ä¸œæ–°åŒºä¸–çºªå¤§é“666å·";
        littleSuperMarket.parkingCount = 100;
        // ç»™è¶…å¸‚200ç§å•†å“
        littleSuperMarket.merchandises = new MerchandiseV2[200];
        // ç»Ÿè®¡ç”¨çš„æ•°ç»„
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];

        // ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œåˆ›å»ºä¸€ä¸ªå•†å“æ•°ç»„å¼•ç”¨ï¼Œå’ŒlittleSuperMarket.merchandisesæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
        MerchandiseV2[] all = littleSuperMarket.merchandises;

        // éå†å¹¶ç»™200ç§å•†å“èµ‹å€¼
        for (int i = 0; i < all.length; i++) {
            // åˆ›å»ºå¹¶ç»™å•†å“çš„å±æ€§èµ‹å€¼
            MerchandiseV2 m = new MerchandiseV2();
            m.name = "å•†å“" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // ç”¨åˆ›å»ºçš„å•†å“ï¼Œç»™å•†å“æ•°ç»„çš„ç¬¬iä¸ªå¼•ç”¨èµ‹å€¼ï¼Œallå’Œå°è¶…å¸‚çš„å•†å“æ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡
            all[i] = m;
        }

        // åˆ›å»ºä¸€ä¸ªScannerè¯»å–è¾“å…¥
        Scanner scanner = new Scanner(System.in);
        MerchandiseV2 m0 = all[0];
        while (true) {
            System.out.println("ä»Šæ—¥è¶…å¸‚å¤§ç‰¹æƒ ï¼Œæ‰€æœ‰å•†å“ç¬¬äºŒä»¶åŠä»·ï¼é€‰æ‹©è¦è´­ä¹°çš„å•†å“ç´¢å¼•ï¼š");
            int index = scanner.nextInt();
            if (index < 0) {
                System.out.println("æ¬¢è¿å†æ¬¡å…‰ä¸´ï¼");
                break;
            }

            System.out.println("è¯·è¾“å…¥è¦è´­ä¹°çš„æ•°é‡ï¼š");
            int count = scanner.nextInt();

            MerchandiseV2 m = littleSuperMarket.merchandises[index];
            System.out.println("ç”¨æˆ·é€‰æ‹©çš„å•†å“æ˜¯è¶…å¸‚é‡Œä»·å€¼æœ€é«˜çš„ï¼š" +
                    m.isTheBiggestTotalValueOne(littleSuperMarket));
            double totalCost = m.buyAndPrintLeft(count, true);

            boolean m0BiggerThan = m0.totalValueBiggerThan(m);
            System.out.println("m0çš„æ€»ä»·å€¼æ¯”ç”¨æˆ·é€‰æ‹©çš„è¦å¤§ï¼š" + m0BiggerThan);

            System.out.println("å•†å“æ€»ä»·ä¸ºï¼š" + totalCost);
        }

    }
}
```



:::





## 7. å®å‚å’Œå½¢å‚

- å½¢å‚æ˜¯æ–¹æ³•å®šä¹‰æ—¶åœ¨æ–¹æ³•å¤´éƒ¨å£°æ˜çš„å˜é‡ã€‚å®ƒä»¬æ˜¯æ–¹æ³•çš„â€œå ä½ç¬¦â€ï¼Œç”¨äºæ¥æ”¶è°ƒç”¨è¯¥æ–¹æ³•æ—¶ä¼ é€’çš„å®é™…æ•°æ®ã€‚
- å®å‚æ˜¯è°ƒç”¨æ–¹æ³•æ—¶å®é™…ä¼ é€’çš„å€¼æˆ–å˜é‡ã€‚åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå®å‚ä¼šè¢«ä¼ é€’ç»™å½¢å‚ã€‚

### 7.1 å½¢å‚ï¼ˆå½¢å¼å‚æ•°ï¼‰

- å½¢å‚æ˜¯åœ¨**å®šä¹‰æ–¹æ³•æ—¶**å£°æ˜çš„å‚æ•°ã€‚
- å®ƒæ˜¯æ–¹æ³•çš„è¾“å…¥ï¼Œå ä½ç¬¦ï¼Œç”¨æ¥æ¥æ”¶è°ƒç”¨è€…ä¼ é€’çš„å®é™…å€¼ã€‚
- å½¢å‚å­˜åœ¨äºæ–¹æ³•çš„å£°æ˜ä¸­ï¼Œåªæœ‰å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå®ƒæ‰ä¼šè¢«èµ‹å€¼ã€‚

**ä¾‹å­ï¼š**

```java
public void greet(String name) {
    System.out.println("Hello, " + name + "!");
}
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼š`String name` æ˜¯å½¢å‚ï¼Œå®ƒå®šä¹‰äº† greet æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ã€‚



### 7.2 å®å‚ï¼ˆå®é™…å‚æ•°ï¼‰

- å®å‚æ˜¯åœ¨**è°ƒç”¨æ–¹æ³•æ—¶**ä¼ é€’çš„å€¼ã€‚
- å®ƒæ˜¯å½¢å‚çš„å®é™…å€¼ï¼Œç”¨æ¥å®Œæˆå…·ä½“çš„è®¡ç®—æˆ–é€»è¾‘ã€‚
- å®å‚ä¼šè¢«èµ‹å€¼ç»™å¯¹åº”çš„å½¢å‚ã€‚

**ä¾‹å­ï¼š**

```java {4}
public class Main {
    public static void main(String[] args) {
        Main main = new Main();
        main.greet("Alice"); // "Alice" æ˜¯å®å‚
    }
    
    public void greet(String name) {
        System.out.println("Hello, " + name + "!");
    }
}
```

åœ¨è°ƒç”¨ `greet("Alice")` æ—¶ï¼š`"Alice"` æ˜¯å®å‚ï¼Œå®ƒè¢«ä¼ é€’ç»™æ–¹æ³•ä¸­çš„å½¢å‚ nameã€‚

### 7.3 å®å‚ä¸å½¢å‚çš„å…³ç³»

1. **æ–¹æ³•è°ƒç”¨æ—¶ä¼ é€’å€¼ï¼š**
    1. å½“è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå®å‚çš„å€¼ä¼šè¢«å¤åˆ¶åˆ°å½¢å‚ä¸­ã€‚
    2. Java ä¸­çš„å‚æ•°ä¼ é€’æ˜¯**æŒ‰å€¼ä¼ é€’**çš„ï¼ˆå³å¤åˆ¶å®å‚çš„å€¼åˆ°å½¢å‚ï¼‰ã€‚
2. **ä½œç”¨èŒƒå›´ï¼š**
    1. å½¢å‚çš„ä½œç”¨èŒƒå›´ä»…é™äºæ–¹æ³•å†…éƒ¨ã€‚
    2. æ–¹æ³•æ‰§è¡Œå®Œåï¼Œå½¢å‚è¢«é”€æ¯ã€‚

### 7.4 æŒ‰å€¼ä¼ é€’çš„æ¼”ç¤º

::: code-tabs

@tab Code

```java
public class Main {
    public static void main(String[] args) {
        int number = 10;
        System.out.println("Before calling method: " + number);
        changeValue(number); // å®å‚ä¼ é€’
        System.out.println("After calling method: " + number);
    }

    public static void changeValue(int num) {
        num = 20; // ä¿®æ”¹å½¢å‚çš„å€¼
        System.out.println("Inside method: " + num);
    }
}
```

@tab è¾“å‡º

```java
Before calling method: 10
Inside method: 20
After calling method: 10
```

:::

**è¯´æ˜ï¼š** åœ¨ changeValue æ–¹æ³•ä¸­ï¼Œå½¢å‚ num çš„å€¼è¢«ä¿®æ”¹ä¸º 20ï¼Œä½†å®ƒä¸å½±å“å®å‚ number çš„å€¼ï¼Œå› ä¸º num æ˜¯å®å‚ number çš„å‰¯æœ¬ã€‚

### 7.5 å¼•ç”¨ç±»å‹çš„å‚æ•°ä¼ é€’

å½“å‚æ•°æ˜¯å¼•ç”¨ç±»å‹ï¼ˆå¦‚æ•°ç»„æˆ–å¯¹è±¡ï¼‰æ—¶ï¼Œä¼ é€’çš„ä¹Ÿæ˜¯å¼•ç”¨çš„å‰¯æœ¬ï¼Œä½†ç”±äºå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ–¹æ³•å†…çš„ä¿®æ”¹ä¼šå½±å“åˆ°å®é™…å¯¹è±¡ã€‚

::: code-tabs

@tab Code

```java
public class Main {
    public static void main(String[] args) {
        int[] numbers = {1, 2, 3};
        System.out.println("Before calling method: " + numbers[0]);
        changeArray(numbers); // å®å‚ä¼ é€’
        System.out.println("After calling method: " + numbers[0]);
    }

    public static void changeArray(int[] arr) {
        arr[0] = 99; // ä¿®æ”¹æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ 
        System.out.println("Inside method: " + arr[0]);
    }
}
```

@tab è¾“å‡º

```java
Before calling method: 1
Inside method: 99
After calling method: 99
```

:::

**è¯´æ˜ï¼š** æ–¹æ³•ä¿®æ”¹äº†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®å‚ numbers çš„å€¼ä¹Ÿè¢«æ”¹å˜äº†ï¼Œå› ä¸ºæ•°ç»„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜ã€‚

### 7.6 æ€»ç»“

1. å½¢å‚ï¼šæ–¹æ³•å£°æ˜æ—¶å®šä¹‰çš„å‚æ•°ï¼Œæ˜¯å ä½ç¬¦ã€‚
2. å®å‚ï¼šè°ƒç”¨æ–¹æ³•æ—¶å®é™…ä¼ é€’çš„å€¼ã€‚
3. å‚æ•°ä¼ é€’ï¼š
    1. åŸºæœ¬ç±»å‹ï¼šæŒ‰å€¼ä¼ é€’ï¼Œæ–¹æ³•å†…ä¿®æ”¹ä¸ä¼šå½±å“å®å‚ã€‚
    2. å¼•ç”¨ç±»å‹ï¼šä¼ é€’å¼•ç”¨çš„å‰¯æœ¬ï¼Œæ–¹æ³•å†…ä¿®æ”¹ä¼šå½±å“åŸå¯¹è±¡ã€‚

### 7.7 æ›´å¤šä¾‹å­

::: tabs

@tab 1. ç¤ºä¾‹

```java
public class Example {
    
    // å®šä¹‰æ–¹æ³•æ—¶ï¼Œa å’Œ b æ˜¯å½¢å‚
    public static int add(int a, int b) {
        return a + b;
    }

    public static void main(String[] args) {
        // åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œ3 å’Œ 5 æ˜¯å®å‚
        int result = add(3, 5);  
        System.out.println("ç»“æœæ˜¯: " + result);
    }
}
```

@tab è§£é‡Š

- `add`æ–¹æ³•çš„å®šä¹‰ä¸­ï¼Œ`a`å’Œ`b`æ˜¯**å½¢å‚**ï¼Œå®ƒä»¬ç”¨äºæ¥æ”¶ä¼ é€’ç»™æ–¹æ³•çš„æ•°æ®ã€‚

- åœ¨`main`æ–¹æ³•ä¸­ï¼Œå½“è°ƒç”¨`add(3, 5)`æ—¶ï¼Œ`3`å’Œ`5`å°±æ˜¯**å®å‚**ï¼Œå®ƒä»¬çš„å€¼ä¼šä¼ é€’ç»™å½¢å‚`a`å’Œ`b`ï¼Œç„¶ååœ¨æ–¹æ³•å†…éƒ¨è¿›è¡Œè¿ç®—ã€‚

:::













æ¬¢è¿å…³æ³¨æˆ‘å…¬ä¼—å·ï¼šAIæ‚¦åˆ›ï¼Œæœ‰æ›´å¤šæ›´å¥½ç©çš„ç­‰ä½ å‘ç°ï¼

::: details å…¬ä¼—å·ï¼šAIæ‚¦åˆ›ã€äºŒç»´ç ã€‘

![](/gzh.jpg)

:::

::: info AIæ‚¦åˆ›Â·ç¼–ç¨‹ä¸€å¯¹ä¸€

AIæ‚¦åˆ›Â·æ¨å‡ºè¾…å¯¼ç­å•¦ï¼ŒåŒ…æ‹¬ã€ŒPython è¯­è¨€è¾…å¯¼ç­ã€C++ è¾…å¯¼ç­ã€java è¾…å¯¼ç­ã€ç®—æ³•/æ•°æ®ç»“æ„è¾…å¯¼ç­ã€å°‘å„¿ç¼–ç¨‹ã€pygame æ¸¸æˆå¼€å‘ã€ï¼Œå…¨éƒ¨éƒ½æ˜¯ä¸€å¯¹ä¸€æ•™å­¦ï¼šä¸€å¯¹ä¸€è¾…å¯¼ + ä¸€å¯¹ä¸€ç­”ç–‘ + å¸ƒç½®ä½œä¸š + é¡¹ç›®å®è·µç­‰ã€‚å½“ç„¶ï¼Œè¿˜æœ‰çº¿ä¸‹çº¿ä¸Šæ‘„å½±è¯¾ç¨‹ã€Photoshopã€Premiere ä¸€å¯¹ä¸€æ•™å­¦ã€QQã€å¾®ä¿¡åœ¨çº¿ï¼Œéšæ—¶å“åº”ï¼å¾®ä¿¡ï¼šJiabcdefh

C++ ä¿¡æ¯å¥¥èµ›é¢˜è§£ï¼Œé•¿æœŸæ›´æ–°ï¼é•¿æœŸæ‹›æ”¶ä¸€å¯¹ä¸€ä¸­å°å­¦ä¿¡æ¯å¥¥èµ›é›†è®­ï¼Œè†ç”°ã€å¦é—¨åœ°åŒºæœ‰æœºä¼šçº¿ä¸‹ä¸Šé—¨ï¼Œå…¶ä»–åœ°åŒºçº¿ä¸Šã€‚å¾®ä¿¡ï¼šJiabcdefh

æ–¹æ³•ä¸€ï¼š[QQ](http://wpa.qq.com/msgrd?v=3&uin=1432803776&site=qq&menu=yes)

æ–¹æ³•äºŒï¼šå¾®ä¿¡ï¼šJiabcdefh

:::

![](/zsxq.jpg)
