---
title: 32-打造一个小超市
date: 2024-12-18 09:54:39
icon: java
author: AI悦创
isOriginal: true
category: 
    - Java体系课
tag:
    - Java体系课
sticky: false
star: false
article: true
timeline: true
image: false
navbar: true
sidebarIcon: true
headerDepth: 5
comment: true
lastUpdated: true
editLink: false
backToTop: true
toc: true
footer: 长期招收编程一对一学员！微信：Jiabcdefh, <a href="https://beian.miit.gov.cn/" target="_blank">闽ICP备19021486号-6</a>
---

## 0. 目录

- 小超市例程
- Java 的世界是一个类和对象的世界

## 1. 小超市例程

- Java 就是使用类来描述世界，用类的实例（对象）让世界运转起来
- 各种操作数据的代码太乱了怎么办？

**小超市需要：**

- 超市名称

- 超市地址

- 停车位数量

- 收入总和

- 商品列表

    - 商品名称

    - 商品 id

    - 商品库存

    - 销售价格

    - 进货成本「购买价格」

- 商品销售「销售数量」

- 客户

    - 顾客名字

    - 顾客带了多少钱

    - 顾客是否开车过来

## 2. 代码实现

::: code-tabs

@tab Tree

```bash
(base) ➜  SuperMarket git:(main) ✗ tree .
.
├── SuperMarket.iml
└── src
    └── com
        └── bornforthis
            ├── RunLittleSupperMarketAppMain.java
            ├── person
            │   └── Customer.java
            └── supermarket
                ├── LittleSuperMarket.java
                └── Merchandise.java

6 directories, 5 files
```

@tab LittleSuperMarket.java「小超市」

```java
/*
 * @Time    : 2024/12/19 08:22
 * @Author  : AI悦创
 * @FileName: LittleSuperMarket.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis.supermarket;

/**
 * 小超市：LittleSuperMarket
 */
public class LittleSuperMarket {
    public String superMarketName;      // 超市名称
    public String address;              // 超市地址
    public int parkingCount;            // 停车位数量
    public double incomingSum;          // 收入总和
    public Merchandise[] merchandises;  // 商品列表
    public int[] merchandiseSold;       // 商品销售
}
```

@tab Merchandise.java「商品列表」

```java
/*
 * @Time    : 2024/12/19 08:32
 * @Author  : AI悦创
 * @FileName: Merchandise.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis.supermarket;

/**
 * 商品列表
 */
public class Merchandise {
    public String name;             // 商品名称
    public String id;               // 商品 ID
    public int count;               // 商品数量、库存
    public double soldPrice;        // 销售价格
    public double purchasePrice;    // 购买价格「成本」「进货价」
}
```

@tab Customer.java「顾客」

```java
/*
 * @Time    : 2024/12/19 08:39
 * @Author  : AI悦创
 * @FileName: Customer.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis.person;

/**
 * 顾客
 */
public class Customer {
    public String name;             // 顾客名字
    public double money;            // 顾客带了多少钱
    public boolean isDrivingCar;     // 是否开车过来说，我们 supermarket 有停车位
}
```

:::

接下来编写 RunLittleSupperMarketAppMain.java 学习具体的类的使用：

:::: tabs

@tab Step 1

```java
/*
 * @Time    : 2024/12/19 08:43
 * @Author  : AI悦创
 * @FileName: RunLittleSupperMarketAppMain.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis;

import com.bornforthis.person.Customer;
import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.Merchandise;

import java.util.Scanner;

public class RunLittleSupperMarketAppMain {
    public static void main(String[] args) {
        // 创建一个超市类
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // 依次给超市的名字，地址，停车位赋值
        littleSuperMarket.superMarketName = "AI悦创·超市";
        littleSuperMarket.address = "莆田新世纪大道1888号";
        littleSuperMarket.parkingCount = 100;
        // 给超市 200 中商品
        littleSuperMarket.merchandises = new Merchandise[200];
        // 统计用的数组
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];  // 每个商品的销售情况

        // 为了使用方便，创建一个商品数组引用，和 littleSuperMarket.merchandises 指向同一个数组对象
        Merchandise[] all = littleSuperMarket.merchandises;
        /**
         * Question 1: 为什么要写上面的一行？
         * Solution:
         * 我们每次要使用 merchandises 的商品时需要如何使用？———— littleSuperMarket.merchandises.name「又臭又长！」
         * 而写了上面的代码后，只需要：all.name「苗条又好看🤩」
         * TODO: 思考部分👇
         * Question 2: 这样套娃，那为什么不能直接 Merchandise[] all = new Merchandise[200];——Why？
         * Solution: 如果直接赋值，就意味着没有使用 littleSuperMarket 中的 merchandises，也就是没有存储在 littleSuperMarket.merchandises；
         * 1. 弱化了我们的模块化、对象化；
         * 2. 使 littleSuperMarket 中的 merchandises 失效，没有存在的意义，数据直接存储在 RunLittleSupperMarketAppMain 中，也就没有面向对象开发的意义。
         * */
        // 遍历并给 200 种商品赋值
        for (int i = 0; i < all.length; i++) {
            // 创建并给商品的属性赋值
            all[i] = new Merchandise();

            all[i].name = "商品" + i;
            all[i].count = 200;
            all[i].purchasePrice = Math.random() * 200;
            all[i].soldPrice = all[i].purchasePrice * (1 + Math.random());
            all[i].id = "ID" + i;
        }

        // 为了证明数据也会同步存储在 littleSuperMarket.merchandises 所以使用 littleSuperMarket.merchandises.length
        for (int i = 0; i < littleSuperMarket.merchandises.length; i++) {
            System.out.println(littleSuperMarket.merchandises[i].name);
        }

    }
}
```

运行结果：

```java
/Library/Java/JavaVirtualMachines/jdk-11.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=57780:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/huangjiabao/GitHub/iMac/JavaCode/SuperMarket/out/production/SuperMarket com.bornforthis.RunLittleSupperMarketAppMain
商品0
商品1
商品2
商品3
商品4
商品5
商品6
...
商品196
商品197
商品198
商品199

Process finished with exit code 0
```

@tab Step 2: 遍历并给 200 种商品赋值

- 方法一

    ```java
    for (int i = 0; i < all.length; i++) {
        // 创建并给商品的属性赋值
        all[i] = new Merchandise();
        
        all[i].name = "商品" + i;
        all[i].count = 200;
        all[i].purchasePrice = Math.random() * 200;
        all[i].soldPrice = all[i].purchasePrice * (1 + Math.random());
        all[i].id = "ID" + i;
    }
    ```

- 方法二

    ```java
    for (int i = 0; i < all.length; i++) {
        // 创建并给商品的属性赋值
        Merchandise m = new Merchandise();
        m.name = "商品" + i;
        m.count = 200;
        m.purchasePrice = Math.random() * 200;
        m.soldPrice = m.purchasePrice * (1 + Math.random());
        m.id = "ID" + i;
        // 用创建的商品，给商品数组的第 i 个引用赋值，all 和小超市的商品数组引用指向的是同一个数组对象
        all[i] = m;
    }
    ```

- `all[i] = m;` 不一定只能写末尾

    ```java {4}
    for (int i = 0; i < all.length; i++) {
        // 创建并给商品的属性赋值
        Merchandise m = new Merchandise();
        all[i] = m;
        m.name = "商品" + i;
        m.count = 200;
        m.purchasePrice = Math.random() * 200;
        m.soldPrice = m.purchasePrice * (1 + Math.random());
        m.id = "ID" + i;
    }
    ```

@tab 截止目前的完整代码

```java
/*
 * @Time    : 2024/12/19 08:43
 * @Author  : AI悦创
 * @FileName: RunLittleSupperMarketAppMain.java
 * @Software: IntelliJ IDEA
 * @Version: V1.0
 * @Blog    : https://bornforthis.cn/
 * Code is far away from bugs with the god animal protecting
 * I love animals. They taste delicious.
 */
package com.bornforthis;

import com.bornforthis.person.Customer;
import com.bornforthis.supermarket.LittleSuperMarket;
import com.bornforthis.supermarket.Merchandise;

import java.util.Scanner;

public class RunLittleSupperMarketAppMain {
    public static void main(String[] args) {
        // 创建一个超市类
        LittleSuperMarket littleSuperMarket = new LittleSuperMarket();
        // 依次给超市的名字，地址，停车位赋值
        littleSuperMarket.superMarketName = "AI悦创·超市";
        littleSuperMarket.address = "莆田新世纪大道1888号";
        littleSuperMarket.parkingCount = 100;
        // 给超市 200 中商品
        littleSuperMarket.merchandises = new Merchandise[200];
        // 统计用的数组
        littleSuperMarket.merchandiseSold = new int[littleSuperMarket.merchandises.length];  // 每个商品的销售情况

        // 为了使用方便，创建一个商品数组引用，和 littleSuperMarket.merchandises 指向同一个数组对象
        Merchandise[] all = littleSuperMarket.merchandises;
        /**
         * Question 1: 为什么要写上面的一行？
         * Solution:
         * 我们每次要使用 merchandises 的商品时需要如何使用？———— littleSuperMarket.merchandises.name「又臭又长！」
         * 而写了上面的代码后，只需要：all.name「苗条又好看🤩」
         * TODO: 思考部分👇
         * Question 2: 这样套娃，那为什么不能直接 Merchandise[] all = new Merchandise[200];——Why？
         * Solution: 如果直接赋值，就意味着没有使用 littleSuperMarket 中的 merchandises，也就是没有存储在 littleSuperMarket.merchandises；
         * 1. 弱化了我们的模块化、对象化；
         * 2. 使 littleSuperMarket 中的 merchandises 失效，没有存在的意义，数据直接存储在 RunLittleSupperMarketAppMain 中，也就没有面向对象开发的意义。
         * */
        // 遍历并给 200 种商品赋值
//        for (int i = 0; i < all.length; i++) {
//            // 创建并给商品的属性赋值
//            all[i] = new Merchandise();
//
//            all[i].name = "商品" + i;
//            all[i].count = 200;
//            all[i].purchasePrice = Math.random() * 200;
//            all[i].soldPrice = all[i].purchasePrice * (1 + Math.random());
//            all[i].id = "ID" + i;
//        }
        for (int i = 0; i < all.length; i++) {
            // 创建并给商品的属性赋值
            Merchandise m = new Merchandise();
            m.name = "商品" + i;
            m.count = 200;
            m.purchasePrice = Math.random() * 200;
            m.soldPrice = m.purchasePrice * (1 + Math.random());
            m.id = "ID" + i;
            // 用创建的商品，给商品数组的第 i 个引用赋值，all 和小超市的商品数组引用指向的是同一个数组对象
            all[i] = m;
        }
//        for (int i = 0; i < all.length; i++) {
//            // 创建并给商品的属性赋值
//            Merchandise m = new Merchandise();
//            all[i] = m;
//            m.name = "商品" + i;
//            m.count = 200;
//            m.purchasePrice = Math.random() * 200;
//            m.soldPrice = m.purchasePrice * (1 + Math.random());
//            m.id = "ID" + i;
//        }
        // 为了证明数据也会同步存储在 littleSuperMarket.merchandises 所以使用 littleSuperMarket.merchandises.length
        for (int i = 0; i < littleSuperMarket.merchandises.length; i++) {
            System.out.println(littleSuperMarket.merchandises[i].name);
        }

    }
}
```



@tab Step 3

```java
```



::::























欢迎关注我公众号：AI悦创，有更多更好玩的等你发现！

::: details 公众号：AI悦创【二维码】

![](/gzh.jpg)

:::

::: info AI悦创·编程一对一

AI悦创·推出辅导班啦，包括「Python 语言辅导班、C++ 辅导班、java 辅导班、算法/数据结构辅导班、少儿编程、pygame 游戏开发」，全部都是一对一教学：一对一辅导 + 一对一答疑 + 布置作业 + 项目实践等。当然，还有线下线上摄影课程、Photoshop、Premiere 一对一教学、QQ、微信在线，随时响应！微信：Jiabcdefh

C++ 信息奥赛题解，长期更新！长期招收一对一中小学信息奥赛集训，莆田、厦门地区有机会线下上门，其他地区线上。微信：Jiabcdefh

方法一：[QQ](http://wpa.qq.com/msgrd?v=3&uin=1432803776&site=qq&menu=yes)

方法二：微信：Jiabcdefh

:::

![](/zsxq.jpg)
